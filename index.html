<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript and Firebase refresher</title>

    <!-- Firebase v8 -->
    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
</head>

<body>

<h1 id="welcomeMessage">You haven't connected the JavaScript yet</h1>

<input id="textInput" type="text" placeholder="Type something">
<button id="changeBtn">Update heading</button>
<button id="saveBtn">Save to Firebase</button>
<button id="loadBtn">Load from Firebase</button>

<script>
    // âœ… JS CONNECTED
    const messageSpace = document.getElementById("welcomeMessage");
    const input = document.getElementById("textInput");
    const button = document.getElementById("changeBtn");

    messageSpace.textContent = "You've connected the JavaScript! ðŸŽ‰";

    button.addEventListener("click", () => {
        messageSpace.textContent = input.value || "You pressed the button!";
    });

    // ðŸ”¥ FIREBASE CONFIG
    const firebaseConfig = {
        apiKey: "AIzaSyCOOawgnK0_Y_k4z4UaHU-PJpWLyMY4PYA",
        authDomain: "carmenogrady---13comp.firebaseapp.com",
        projectId: "carmenogrady---13comp",
        storageBucket: "carmenogrady---13comp.appspot.com",
        messagingSenderId: "407567845415",
        appId: "1:407567845415:web:a797271c6ea774a702e602"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // ðŸ’¾ SAVE TO FIREBASE
    document.getElementById("saveBtn").addEventListener("click", () => {
        db.collection("messages").add({
            text: input.value
        });
    });

    // ðŸ“¥ LOAD FROM FIREBASE
    document.getElementById("loadBtn").addEventListener("click", async () => {
        const snapshot = await db.collection("messages").get();
        snapshot.forEach(doc => {
            messageSpace.textContent = doc.data().text;
        });
    });
</script>

</body>
</html>
